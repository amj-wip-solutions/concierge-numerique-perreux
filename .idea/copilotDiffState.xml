<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/FAVICON-FIX.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/FAVICON-FIX.md" />
              <option name="updatedContent" value="# Fixing Favicon and OG Image Issues - Deployment Guide&#10;&#10;## What Was Fixed&#10;&#10;### 1. Removed Old Favicon&#10;- ✅ Deleted `src/app/favicon.ico` (old Vercel icon)&#10;- This file was overriding the new dynamic icons&#10;&#10;### 2. Dynamic Icons in Place&#10;- ✅ `src/app/icon.tsx` - Generates favicon (32x32px)&#10;- ✅ `src/app/apple-icon.tsx` - Generates Apple touch icon (180x180px)  &#10;- ✅ `src/app/opengraph-image.tsx` - Generates social media preview (1200x630px)&#10;&#10;### 3. Added metadataBase&#10;- ✅ Added `metadataBase: new URL('https://lebonclick.fr')` to layout.tsx&#10;- This ensures all metadata URLs resolve correctly in production&#10;&#10;## Next Steps - Deploy to Production&#10;&#10;### Option 1: Vercel Deployment (Recommended)&#10;&#10;```bash&#10;# If using Vercel CLI&#10;vercel --prod&#10;&#10;# Or commit and push to trigger auto-deployment&#10;git add .&#10;git commit -m &quot;Fix favicon and OG images&quot;&#10;git push&#10;```&#10;&#10;### Option 2: Manual Build and Deploy&#10;&#10;```bash&#10;# Build the project&#10;npm run build&#10;&#10;# Deploy the .next folder to your hosting&#10;```&#10;&#10;## Verification After Deployment&#10;&#10;### 1. Check Favicon&#10;- Open https://lebonclick.fr in a new incognito window&#10;- Look at the browser tab - you should see a teal &quot;L&quot; icon&#10;- Hard refresh: Cmd+Shift+R (Mac) or Ctrl+Shift+F5 (Windows)&#10;&#10;### 2. Check Social Media Preview&#10;&#10;**Facebook Debugger:**&#10;- Go to: https://developers.facebook.com/tools/debug/&#10;- Enter: https://lebonclick.fr&#10;- Click &quot;Scrape Again&quot; to clear cache&#10;- You should see your custom OG image with contact info&#10;&#10;**Twitter/X Card Validator:**&#10;- Go to: https://cards-dev.twitter.com/validator&#10;- Enter: https://lebonclick.fr&#10;- You should see the preview card&#10;&#10;**LinkedIn:**&#10;- Go to: https://www.linkedin.com/post-inspector/&#10;- Enter: https://lebonclick.fr&#10;- Click &quot;Inspect&quot;&#10;&#10;### 3. Test Share Links&#10;&#10;Test sharing on:&#10;- WhatsApp&#10;- Facebook&#10;- Twitter/X&#10;- LinkedIn&#10;&#10;## Troubleshooting&#10;&#10;### If favicon still shows Vercel icon:&#10;1. Clear browser cache completely&#10;2. Open in incognito/private mode&#10;3. Try different browser&#10;4. Wait 5-10 minutes for CDN cache to clear&#10;&#10;### If OG image doesn't update:&#10;1. Use the Facebook Debugger &quot;Scrape Again&quot; button&#10;2. Social media platforms cache aggressively - may take 24-48 hours&#10;3. Try sharing with a query parameter: `https://lebonclick.fr?v=2`&#10;&#10;### If icons don't generate:&#10;1. Check build logs for errors&#10;2. Verify all icon files are committed to git&#10;3. Make sure Next.js version is 14+ (supports metadata API)&#10;&#10;## Files Generated at Build Time&#10;&#10;After building, Next.js generates:&#10;- `/icon` → Browser favicon&#10;- `/apple-icon` → Apple touch icon&#10;- `/opengraph-image` → Social media preview&#10;- These are available at runtime as PNG images&#10;&#10;## Current Configuration Summary&#10;&#10;```typescript&#10;// Favicon: Teal &quot;L&quot; on rounded square (32x32)&#10;// Apple Icon: Teal &quot;L&quot; on square (180x180)&#10;// OG Image: Full branded card with:&#10;//   - &quot;Votre concierge numérique de confiance&quot;&#10;//   - Services listed&#10;//   - Location: Le Perreux-sur-Marne&#10;//   - Phone: 07 44 98 57 23&#10;```&#10;&#10;## Important Notes&#10;&#10;- ✅ No more Vercel branding&#10;- ✅ Professional branded icons&#10;- ✅ Beautiful social media previews&#10;- ✅ All auto-generated by Next.js&#10;- ✅ No manual image creation needed&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/WHATSAPP-FIX.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/WHATSAPP-FIX.md" />
              <option name="updatedContent" value="# WhatsApp Preview Image - Complete Fix Guide&#10;&#10;## Why WhatsApp Isn't Showing Your Logo&#10;&#10;WhatsApp uses Facebook's scraper to fetch Open Graph images. If it's not working, it's because:&#10;&#10;1. ❌ Images not deployed to production yet&#10;2. ❌ Facebook/WhatsApp cache hasn't been cleared&#10;3. ❌ Images might not be accessible publicly&#10;4. ❌ Need to force Facebook to re-scrape your site&#10;&#10;## ✅ STEP-BY-STEP FIX (Do this NOW)&#10;&#10;### Step 1: Verify Files Are Ready&#10;&#10;Check that these files exist in your `public` folder:&#10;- ✅ `favicon.png` (32x32px)&#10;- ✅ `apple-touch-icon.png` (180x180px)&#10;- ✅ `og-image.png` (1200x630px) ← **This is what WhatsApp uses**&#10;&#10;### Step 2: Deploy to Production&#10;&#10;```bash&#10;# Add all changes&#10;git add .&#10;&#10;# Commit&#10;git commit -m &quot;Add Open Graph images for WhatsApp preview&quot;&#10;&#10;# Push to trigger deployment&#10;git push&#10;```&#10;&#10;If you're using Vercel, it will auto-deploy in 1-2 minutes.&#10;&#10;### Step 3: Wait for Deployment&#10;&#10;⏱️ Wait 2-3 minutes for:&#10;- Build to complete&#10;- CDN to propagate&#10;- Files to be publicly accessible&#10;&#10;### Step 4: Test Image Accessibility&#10;&#10;Open this URL in your browser:&#10;```&#10;https://lebonclick.fr/og-image.png&#10;```&#10;&#10;You should see your branded preview image. If you get a 404, the deployment didn't complete or files weren't uploaded.&#10;&#10;### Step 5: Force Facebook/WhatsApp to Update (CRITICAL!)&#10;&#10;**This is the MOST important step!**&#10;&#10;1. Go to Facebook's Sharing Debugger:&#10;   ```&#10;   https://developers.facebook.com/tools/debug/&#10;   ```&#10;&#10;2. Enter your URL:&#10;   ```&#10;   https://lebonclick.fr&#10;   ```&#10;&#10;3. Click **&quot;Debug&quot;** button&#10;&#10;4. Click **&quot;Scrape Again&quot;** button (very important!)&#10;&#10;5. You should see:&#10;   - ✅ Your title: &quot;Lebonclick - Votre concierge numérique de confiance&quot;&#10;   - ✅ Your description&#10;   - ✅ Your og-image.png preview&#10;   - ✅ No errors or warnings&#10;&#10;6. **This also updates WhatsApp's cache!** Facebook and WhatsApp share the same scraper.&#10;&#10;### Step 6: Test in WhatsApp&#10;&#10;1. Open WhatsApp (mobile or WhatsApp Web)&#10;2. Send your link to yourself or a friend:&#10;   ```&#10;   https://lebonclick.fr&#10;   ```&#10;3. You should see a rich preview card with:&#10;   - Your branded image (1200x630)&#10;   - Title: &quot;Lebonclick - Votre concierge numérique de confiance&quot;&#10;   - Description&#10;   - Domain: lebonclick.fr&#10;&#10;## If WhatsApp STILL Doesn't Show Preview&#10;&#10;### Troubleshooting Checklist:&#10;&#10;**1. Is the image file accessible?**&#10;```bash&#10;# Test in browser&#10;https://lebonclick.fr/og-image.png&#10;```&#10;Should display your image, not 404.&#10;&#10;**2. Is the image the right size?**&#10;- Minimum: 200x200px&#10;- Recommended: 1200x630px ✅ (what we created)&#10;- Maximum: 8MB file size&#10;&#10;**3. Did you scrape with Facebook Debugger?**&#10;- WhatsApp won't update without this!&#10;- Must click &quot;Scrape Again&quot; to force refresh&#10;&#10;**4. Check your HTML source**&#10;View page source (Cmd+Option+U) and verify these tags exist:&#10;```html&#10;&lt;meta property=&quot;og:image&quot; content=&quot;https://lebonclick.fr/og-image.png&quot; /&gt;&#10;&lt;meta property=&quot;og:image:width&quot; content=&quot;1200&quot; /&gt;&#10;&lt;meta property=&quot;og:image:height&quot; content=&quot;630&quot; /&gt;&#10;```&#10;&#10;**5. Try with query parameter to bypass cache**&#10;```&#10;https://lebonclick.fr?v=2&#10;```&#10;Then debug this URL in Facebook debugger.&#10;&#10;**6. Check image format**&#10;WhatsApp supports:&#10;- ✅ PNG (what we're using)&#10;- ✅ JPG&#10;- ❌ SVG (not supported)&#10;- ❌ WebP (limited support)&#10;&#10;## Alternative: Add Version Number&#10;&#10;If cache is really stubborn, rename the image:&#10;&#10;1. Rename `og-image.png` to `og-image-v2.png`&#10;2. Update layout.tsx:&#10;   ```typescript&#10;   url: 'https://lebonclick.fr/og-image-v2.png'&#10;   ```&#10;3. Deploy&#10;4. Force scrape again&#10;&#10;## Common Mistakes&#10;&#10;❌ **Using relative URLs** → Must use absolute: `https://lebonclick.fr/og-image.png`  &#10;❌ **Using SVG files** → WhatsApp doesn't support SVG  &#10;❌ **Not clearing Facebook cache** → Must use debugger tool  &#10;❌ **Image too small** → Minimum 200x200px  &#10;❌ **Wrong MIME type** → Must be image/png or image/jpeg  &#10;❌ **HTTPS issues** → Site must be on HTTPS (yours is ✅)  &#10;&#10;## Quick Test Before Deployment&#10;&#10;Test locally:&#10;```bash&#10;npm run build&#10;npm start&#10;```&#10;&#10;Then:&#10;1. Open http://localhost:3000&#10;2. View page source&#10;3. Look for `og:image` meta tag&#10;4. Copy the image URL and paste in browser&#10;5. Verify image loads&#10;&#10;## Expected Timeline&#10;&#10;- Deploy: 1-2 minutes&#10;- CDN propagation: 1-3 minutes&#10;- Facebook scrape: Instant (after clicking &quot;Scrape Again&quot;)&#10;- WhatsApp update: Instant (after Facebook scrape)&#10;- **Total time: ~5 minutes**&#10;&#10;## Final Verification&#10;&#10;After following all steps, your WhatsApp preview should show:&#10;&#10; **Preview Card:**&#10;- ️ Large branded image (your custom og-image.png)&#10;-  Title: &quot;Lebonclick - Votre concierge numérique de confiance&quot;&#10;-  Description: &quot;Service de proximité au Perreux-sur-Marne...&quot;&#10;-  Link: lebonclick.fr&#10;&#10;## Tools You Need&#10;&#10;1. **Facebook Sharing Debugger** (Required!):&#10;   https://developers.facebook.com/tools/debug/&#10;&#10;2. **Your deployed site**:&#10;   https://lebonclick.fr&#10;&#10;3. **Image URL to test**:&#10;   https://lebonclick.fr/og-image.png&#10;&#10;## Current Status&#10;&#10;✅ Files created locally&#10;✅ Metadata configured correctly&#10;✅ Open Graph implementation compliant&#10;⚠️ Need to DEPLOY&#10;⚠️ Need to SCRAPE with Facebook Debugger&#10;&#10;## Next Actions (In Order!)&#10;&#10;1. **Deploy now**: `git add . &amp;&amp; git commit -m &quot;Add OG images&quot; &amp;&amp; git push`&#10;2. **Wait 3 minutes** for deployment&#10;3. **Test image URL**: Open https://lebonclick.fr/og-image.png&#10;4. **Facebook Debugger**: Scrape https://lebonclick.fr&#10;5. **Test WhatsApp**: Send link and verify preview appears&#10;&#10;---&#10;&#10;**Remember:** WhatsApp will NOT automatically update. You MUST use the Facebook Debugger to force it to fetch the new image!&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/WHATSAPP-SHARING.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/WHATSAPP-SHARING.md" />
              <option name="updatedContent" value="# WhatsApp &amp; Social Media Sharing Setup&#10;&#10;## What We've Configured&#10;&#10;To ensure your logo/favicon appears when sharing your URL on WhatsApp and other platforms, we've set up the following:&#10;&#10;### 1. Icons &amp; Favicons&#10;&#10;- **favicon.ico** - Located in `src/app/favicon.ico` (automatically served by Next.js)&#10;- **icon.tsx** - Generates a 32x32 dynamic icon with &quot;L&quot; logo&#10;- **apple-icon.tsx** - Generates a 180x180 Apple touch icon&#10;&#10;### 2. Social Media Images&#10;&#10;- **opengraph-image.tsx** - Generates the Open Graph image (1200x630) for Facebook, LinkedIn, WhatsApp, etc.&#10;- **twitter-image.tsx** - Generates the Twitter/X card image (1200x630)&#10;&#10;### 3. Metadata Configuration&#10;&#10;The `layout.tsx` includes comprehensive metadata for:&#10;- Multiple icon formats (ICO, PNG, SVG)&#10;- Open Graph tags (used by WhatsApp, Facebook, LinkedIn)&#10;- Twitter/X Card tags&#10;- Apple touch icons&#10;&#10;## How WhatsApp Link Previews Work&#10;&#10;When you share a link on WhatsApp:&#10;&#10;1. **WhatsApp scrapes** the URL for Open Graph meta tags&#10;2. It looks for:&#10;   - `og:image` - The preview image&#10;   - `og:title` - The title to display&#10;   - `og:description` - The description text&#10;   - `og:site_name` - The site name&#10;   - Favicon/icons for the small icon&#10;&#10;3. **Our setup provides**:&#10;   - Primary OG image: `/opengraph-image` (dynamically generated)&#10;   - Fallback OG image: `/og-image.png` (static file)&#10;   - Favicon: Multiple formats for maximum compatibility&#10;&#10;## Testing the Setup&#10;&#10;### 1. Build and Deploy&#10;```bash&#10;npm run build&#10;npm run start&#10;# Or deploy to production&#10;```&#10;&#10;### 2. Test Open Graph Tags&#10;&#10;Use these tools to verify your meta tags:&#10;- **Facebook Debugger**: https://developers.facebook.com/tools/debug/&#10;- **WhatsApp Preview**: https://www.bannerbear.com/tools/whatsapp-link-preview-generator/&#10;- **Twitter Card Validator**: https://cards-dev.twitter.com/validator&#10;- **LinkedIn Post Inspector**: https://www.linkedin.com/post-inspector/&#10;&#10;### 3. Clear WhatsApp Cache&#10;&#10;If you've shared the link before and it's not showing the new image:&#10;&#10;1. WhatsApp caches link previews for ~7 days&#10;2. To force a refresh, you can:&#10;   - Wait for the cache to expire&#10;   - Add a query parameter: `https://lebonclick.fr?v=1`&#10;   - Use the WhatsApp Business API to clear the cache&#10;&#10;### 4. Manual Testing in WhatsApp&#10;&#10;1. Open WhatsApp on your phone&#10;2. Send yourself the URL: `https://lebonclick.fr`&#10;3. Wait a few seconds for the preview to load&#10;4. You should see:&#10;   - The OG image with &quot;Votre concierge numérique de confiance&quot;&#10;   - Title: &quot;Lebonclick - Votre concierge numérique de confiance&quot;&#10;   - Description about your service&#10;   - Phone number: 07 44 98 57 23&#10;&#10;## Files Created/Modified&#10;&#10;### New Files&#10;- `src/app/favicon.ico` - Favicon for browsers&#10;- `src/app/twitter-image.tsx` - Twitter/X card image generator&#10;&#10;### Modified Files&#10;- `src/app/layout.tsx` - Enhanced metadata with comprehensive icon and OG tag configuration&#10;&#10;### Existing Files (Already Configured)&#10;- `src/app/icon.tsx` - Small icon (32x32)&#10;- `src/app/apple-icon.tsx` - Apple touch icon (180x180)&#10;- `src/app/opengraph-image.tsx` - Main OG image (1200x630)&#10;- `public/favicon.png` - Static favicon&#10;- `public/favicon.svg` - SVG favicon&#10;- `public/apple-touch-icon.png` - Static Apple icon&#10;- `public/og-image.png` - Static fallback OG image&#10;&#10;## Icon Hierarchy&#10;&#10;Next.js will serve icons in this order:&#10;&#10;1. **Dynamic icons** (icon.tsx, apple-icon.tsx) - Generated on-demand&#10;2. **Static files** (favicon.ico, favicon.png) - Fallbacks&#10;3. **Multiple formats** - SVG for modern browsers, ICO/PNG for older ones&#10;&#10;## Troubleshooting&#10;&#10;### Preview not showing in WhatsApp?&#10;&#10;1. **Check metadata**: Use Facebook Debugger to verify OG tags are present&#10;2. **Clear cache**: Add `?v=2` to the URL to bypass cache&#10;3. **Check HTTPS**: WhatsApp requires HTTPS for previews&#10;4. **Image size**: OG image should be 1200x630 (which ours is)&#10;5. **Wait**: First scrape can take 10-30 seconds&#10;&#10;### Wrong image showing?&#10;&#10;1. Clear the WhatsApp cache (see above)&#10;2. Verify the `metadataBase` in layout.tsx is correct: `https://lebonclick.fr`&#10;3. Check that `/opengraph-image` route is accessible in production&#10;&#10;### No favicon in browser?&#10;&#10;1. Clear browser cache (Cmd+Shift+R on Mac)&#10;2. Check that favicon.ico exists in `src/app/`&#10;3. Verify build output shows icon routes&#10;&#10;## Next Steps&#10;&#10;1. **Deploy to production** so the HTTPS URL is available&#10;2. **Test with Facebook Debugger** first (easier to see errors)&#10;3. **Test on WhatsApp** by sharing the URL&#10;4. **Monitor** using the tools above after any metadata changes&#10;&#10;## Resources&#10;&#10;- [Next.js Metadata Documentation](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)&#10;- [Open Graph Protocol](https://ogp.me/)&#10;- [WhatsApp Link Preview](https://faq.whatsapp.com/539178204760819)&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>