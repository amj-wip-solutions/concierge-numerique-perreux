# Fixing Favicon and OG Image Issues - Deployment Guide

## What Was Fixed

### 1. Removed Old Favicon
- ✅ Deleted `src/app/favicon.ico` (old Vercel icon)
- This file was overriding the new dynamic icons

### 2. Dynamic Icons in Place
- ✅ `src/app/icon.tsx` - Generates favicon (32x32px)
- ✅ `src/app/apple-icon.tsx` - Generates Apple touch icon (180x180px)  
- ✅ `src/app/opengraph-image.tsx` - Generates social media preview (1200x630px)

### 3. Added metadataBase
- ✅ Added `metadataBase: new URL('https://lebonclick.fr')` to layout.tsx
- This ensures all metadata URLs resolve correctly in production

## Next Steps - Deploy to Production

### Option 1: Vercel Deployment (Recommended)

```bash
# If using Vercel CLI
vercel --prod

# Or commit and push to trigger auto-deployment
git add .
git commit -m "Fix favicon and OG images"
git push
```

### Option 2: Manual Build and Deploy

```bash
# Build the project
npm run build

# Deploy the .next folder to your hosting
```

## Verification After Deployment

### 1. Check Favicon
- Open https://lebonclick.fr in a new incognito window
- Look at the browser tab - you should see a teal "L" icon
- Hard refresh: Cmd+Shift+R (Mac) or Ctrl+Shift+F5 (Windows)

### 2. Check Social Media Preview

**Facebook Debugger:**
- Go to: https://developers.facebook.com/tools/debug/
- Enter: https://lebonclick.fr
- Click "Scrape Again" to clear cache
- You should see your custom OG image with contact info

**Twitter/X Card Validator:**
- Go to: https://cards-dev.twitter.com/validator
- Enter: https://lebonclick.fr
- You should see the preview card

**LinkedIn:**
- Go to: https://www.linkedin.com/post-inspector/
- Enter: https://lebonclick.fr
- Click "Inspect"

### 3. Test Share Links

Test sharing on:
- WhatsApp
- Facebook
- Twitter/X
- LinkedIn

## Troubleshooting

### If favicon still shows Vercel icon:
1. Clear browser cache completely
2. Open in incognito/private mode
3. Try different browser
4. Wait 5-10 minutes for CDN cache to clear

### If OG image doesn't update:
1. Use the Facebook Debugger "Scrape Again" button
2. Social media platforms cache aggressively - may take 24-48 hours
3. Try sharing with a query parameter: `https://lebonclick.fr?v=2`

### If icons don't generate:
1. Check build logs for errors
2. Verify all icon files are committed to git
3. Make sure Next.js version is 14+ (supports metadata API)

## Files Generated at Build Time

After building, Next.js generates:
- `/icon` → Browser favicon
- `/apple-icon` → Apple touch icon
- `/opengraph-image` → Social media preview
- These are available at runtime as PNG images

## Current Configuration Summary

```typescript
// Favicon: Teal "L" on rounded square (32x32)
// Apple Icon: Teal "L" on square (180x180)
// OG Image: Full branded card with:
//   - "Votre concierge numérique de confiance"
//   - Services listed
//   - Location: Le Perreux-sur-Marne
//   - Phone: 07 44 98 57 23
```

## Important Notes

- ✅ No more Vercel branding
- ✅ Professional branded icons
- ✅ Beautiful social media previews
- ✅ All auto-generated by Next.js
- ✅ No manual image creation needed

